!function(a){"use strict";a.fn.autotabs=function(t){var e,i,n=!1,s={init:function(t){return e=a.extend(!0,{},this.autotabs.defaults,t),this.each(function(){var t=a(this),s=t.children(e.tab_pane_selector);if(0!==s.length){if(1===s.length&&!e.tab_orphans)return void s.show();var o="<ul class='"+e.tabs_class+(e.vertical?" vertical":"")+"'>";i=(null===e.active_tab?a.cookie?a.cookie(e.cookie_name):0:e.active_tab)||0,i=Math.min(s.length-1,i),s.each(function(t,i){if(""===i.id){var n=e.tab_pane_id&&a.isFunction(e.tab_pane_id)?e.tab_pane_id(t,i):"___"+(t+1);a(i).attr("id",n)}o+=c.generate_tab(t,i)}),o+="</ul>";var l=""!==e.tabs_selector?a(e.tabs_selector):t;l||(l=t),a("ul."+e.tabs_class.replace(/\s/,"."),l).remove(),l.prepend(o),a("li > a",l.children().first()).click(function(){if(n)return!1;var i=a(this);return a(this).parent().hasClass(e.active_class)&&!e.force_refresh?!1:(n=!0,c.showLoadingIcon(e),i.parent().addClass(e.active_class).siblings("li").removeClass(e.active_class),t.children(e.tab_pane_selector).each(function(){a(this).slideUp("fast").removeClass(e.active_class)}),t.children(e.tab_pane_selector).each(function(t){if(i.attr("rel")===a(this).attr("id"))try{c.load(this),a.cookie&&a.cookie(e.cookie_name,t,{path:e.cookie_path})}catch(n){}}),!1)}),c.showLoadingIcon(e),t.children(e.tab_pane_selector).each(function(t,n){t===i?c.load(n):a(n).slideUp("fast").removeClass(e.active_class)})}})}},c={generate_tab:function(t,n){var s=e.tab_id&&a.isFunction(e.tab_id)?e.tab_id(n.id):n.id,c=e.tab_class;a(n).data("tab-class")&&(c+=" "+a(n).data("tab-class")),c+=t===i?" "+e.active_class:"";var o,l;return o=a(n).data("autotabs-label"),"undefined"==typeof o&&(o=a(n).attr("title")),"undefined"==typeof o&&a(e.tab_label_selector,a(n)).length&&(o=a(e.tab_label_selector,a(n)).get(0).innerHTML),"undefined"==typeof o&&(o=e.tab_label&&a.isFunction(e.tab_label)?e.tab_label(t,n):"Tab "+(t+1)),l="<a href='"+(a(n).attr("rel")||"#"+n.id)+"' rel='"+n.id+"'><span>"+o+"</span></a>","<li class='"+c+"' id='"+s+"'>"+l+"</li>"},load:function(t){var i=c.getSuccess(t.id),s=a(t).data("autotabs-url");"undefined"==typeof s&&(s=a(t).attr("rel")),"undefined"==typeof s||""!==a.trim(a(t).html())&&!e.force_refresh?(a(t).slideDown("fast").addClass(e.active_class),n=!1,c.hideLoadingIcon(e),i&&a.isFunction(i)&&i.call(t)):(a(t).empty(),a.ajax({url:s,error:function(){window.location.reload(!0)},success:function(s){a(t).html(s),a(t).slideDown("fast").addClass(e.active_class),n=!1,c.hideLoadingIcon(e),i&&a.isFunction(i)&&i.call(t)}}))},getSuccess:function(t){return e.success?a.isFunction(e.success)?e.success:e.success[t]:null},showLoadingIcon:function(t){t.loading_icon&&a(t.loading_icon).show()},hideLoadingIcon:function(t){t.loading_icon&&a(t.loading_icon).hide()}};return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void a.error("Method "+t+" does not exist in jQuery.autotab"):s.init.apply(this,arguments)},a.fn.autotabs.defaults={tab_pane_selector:"div, section, .tab-pane",tab_label_selector:"h1, h2, h3, h4",tabs_class:"autotabs",tab_class:"autotab",tabs_selector:"",active_class:"current",active_tab:null,cookie_name:"active_tab",cookie_path:"/",force_refresh:!1,tab_orphans:!1,loading_icon:"#loading",tab_id:function(a){return"__"+a},tab_label:function(a){return"Tab "+(a+1)},tab_pane_id:function(a){return"___"+(a+1)},vertical:!1}}(jQuery);