(function(a){a.fn.autotabs=function(g){var d,b,f=false;var c={init:function(j){var i=a(this);d=a.extend({},this.autotabs.defaults,j);var h='<ul class="'+d.tabs_class+'">';b=(d.active_tab==null?(a.cookie?a.cookie(d.cookie_name):0):d.active_tab)||0;return i.each(function(){var l=i.children(d.tab_pane_selector);switch(l.length){case 0:return;case 1:if(!d.tab_orphans){l.show();return}default:l.each(function(m,n){h+=e.generate_tab(m,n)})}h+="</ul>";var k=(d.tabs_selector!="")?a(d.tabs_selector):i;if(!k){k=i}k.prepend(h);a("ul."+d.tabs_class+" li > a",k).click(function(){if(f){return false}f=true;e.showLoadingIcon(d);var m=a(this);m.parent().addClass(d.active_class).siblings("li").removeClass(d.active_class);i.children(d.tab_pane_selector).each(function(){a(this).slideUp("fast").removeClass(d.active_class)});i.children(d.tab_pane_selector).each(function(n){if(m.attr("rel")==this.id){try{e.load(this);if(a.cookie){a.cookie(d.cookie_name,n,{path:d.cookie_path})}}catch(o){console.log(o)}}});return false});i.children(d.tab_pane_selector).each(function(n,m){if(n==b){e.load(m)}else{a(m).slideUp("fast").removeClass(d.active_class)}})})}};var e={generate_tab:function(h,i){var j="<li"+(h==b?' class="'+d.active_class+'"':"")+(d.tab_id&&a.isFunction(d.tab_id)?' id="'+d.tab_id(i.id)+'">':">")+'<a href="'+(a(i).attr("rel")||"#"+i.id)+'" rel="'+a(i).attr("id")+'">'+(a(i).attr("title")||a(d.tab_label_selector,a(i)).get(0).innerHTML)+"</a></li>";return j},load:function(i){var h=e.getSuccess(i.id);if((url=a(i).attr("rel"))&&(a(i).html().trim()==""||d.force_refresh)){a(i).empty();a(i).load(url,function(){a(i).slideDown("fast").addClass(d.active_class);if(h&&a.isFunction(h)){h.call(i)}f=false;e.hideLoadingIcon(d)})}else{a(i).slideDown("fast").addClass(d.active_class);if(h&&a.isFunction(h)){h.call(i)}f=false;e.hideLoadingIcon(d)}},getSuccess:function(h){if(!d.success){return null}if(a.isFunction(d.success)){return d.success}return d.success[h]},showLoadingIcon:function(h){if(!h.loading_icon){return}a(h.loading_icon).show()},hideLoadingIcon:function(h){if(!h.loading_icon){return}a(h.loading_icon).hide()}};if(c[g]){return c[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return c.init.apply(this,arguments)}else{a.error("Method "+g+" does not exist in jQuery.autotabs")}}};a.fn.autotabs.defaults={tab_pane_selector:"div",tab_label_selector:"h3",tabs_class:"autotabs",tabs_selector:"",active_class:"current",active_tab:null,cookie_name:"active_tab",cookie_path:"/",force_refresh:false,tab_orphans:false,loading_icon:"#loading",tab_id:function(b){return"__"+b}}})(jQuery);