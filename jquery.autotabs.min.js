(function(a){a.fn.autotabs=function(g){var d,b,f=false;var c={init:function(j){var i=a(this);d=a.extend({},this.autotabs.defaults,j);var h='<ul class="'+d.tabs_class+'">';b=(d.active_tab==null?(a.cookie?a.cookie(d.cookie_name):0):d.active_tab)||0;return i.each(function(){var l=i.children(d.tab_pane_selector);switch(l.length){case 0:return;case 1:if(!d.tab_orphans){l.show();return}default:l.each(function(m){h+="<li"+(m==b?' class="'+d.active_class+'"':"")+'><a href="'+(a(this).attr("rel")?a(this).attr("rel"):"#"+this.id)+'" rel="'+a(this).attr("id")+'">'+(a(this).attr("title")?a(this).attr("title"):a(d.tab_label_selector,a(this)).get(0).innerHTML)+"</a></li>"})}h+="</ul>";var k=(d.tabs_selector!="")?a(d.tabs_selector):i;if(!k){k=i}k.prepend(h);a("ul."+d.tabs_class+" li > a").click(function(){if(f){return false}e.showLoadingIcon(d);f=true;if(d.loading_icon){var m=a(this)}m.parent().addClass(d.active_class).siblings("li").removeClass(d.active_class);i.children(d.tab_pane_selector).each(function(){a(this).slideUp("fast").removeClass(d.active_class)});i.children(d.tab_pane_selector).each(function(n){if(m.attr("rel")==this.id){try{e.load(this);if(a.cookie){a.cookie(d.cookie_name,n,{path:d.cookie_path})}}catch(o){console.log(o)}}});return false});i.children(d.tab_pane_selector).each(function(n,m){if(n==b){e.load(m)}else{a(m).slideUp("fast").removeClass(d.active_class)}})})}};var e={load:function(i){var h=e.getSuccess(i.id);if((url=a(i).attr("rel"))&&(a(i).html().trim()==""||d.force_refresh)){a(i).empty();a(i).load(url,function(){a(i).slideDown("fast").addClass(d.active_class);if(h&&a.isFunction(h)){h.call(i)}f=false;e.hideLoadingIcon(d)})}else{a(i).slideDown("fast").addClass(d.active_class);if(h&&a.isFunction(h)){h.call(i)}f=false;e.hideLoadingIcon(d)}},getSuccess:function(h){if(!d.success){return null}if(a.isFunction(d.success)){return d.success}return d.success[h]},showLoadingIcon:function(h){if(!h.loading_icon){return}a(h.loading_icon).show()},hideLoadingIcon:function(h){if(!h.loading_icon){return}a(h.loading_icon).hide()}};if(c[g]){return c[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return c.init.apply(this,arguments)}else{a.error("Method "+g+" does not exist in jQuery.autotabs")}}};a.fn.autotabs.defaults={tab_pane_selector:"div",tab_label_selector:"h3",tabs_class:"autotabs",tabs_selector:"",active_class:"current",active_tab:null,cookie_name:"active_tab",cookie_path:"/",force_refresh:false,tab_orphans:false,loading_icon:"#loading"}})(jQuery);