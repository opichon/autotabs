(function(e){e.fn.autotabs=function(t){var n,r,i=false;var s={init:function(t){n=e.extend(true,{},this.autotabs.defaults,t);return this.each(function(){var t=e(this);var s='<ul class="'+n.tabs_class+(n.vertical?" vertical":"")+'">';r=(n.active_tab==null?e.cookie?e.cookie(n.cookie_name):0:n.active_tab)||0;var u=t.children(n.tab_pane_selector);switch(u.length){case 0:return;case 1:if(!n.tab_orphans){u.show();return};default:u.each(function(t,r){if(r.id==""){var i=n.tab_pane_id&&e.isFunction(n.tab_pane_id)?n.tab_pane_id(t,r):"___"+(t+1);e(r).attr("id",i)}s+=o.generate_tab(t,r)})}s+="</ul>";var a=n.tabs_selector!=""?e(n.tabs_selector):t;if(!a){a=t}a.prepend(s);e("ul."+n.tabs_class+" li > a",a).click(function(){if(i){return false}i=true;o.showLoadingIcon(n);var r=e(this);r.parent().addClass(n.active_class).siblings("li").removeClass(n.active_class);t.children(n.tab_pane_selector).each(function(){e(this).hide().removeClass(n.active_class)});t.children(n.tab_pane_selector).each(function(t,i){if(r.attr("rel")==e(this).attr("id")){try{o.load(this);if(e.cookie){e.cookie(n.cookie_name,t,{path:n.cookie_path})}}catch(i){console.log(i)}}});return false});t.children(n.tab_pane_selector).each(function(t,i){if(t==r){o.load(i)}else{e(i).slideUp("fast").removeClass(n.active_class)}})})}};var o={generate_tab:function(t,i){var s=n.tab_id&&e.isFunction(n.tab_id)?n.tab_id(i.id):i.id;var o=n.tab_class+(t==r?" "+n.active_class:"");var u=e(i).attr("title")||(e(n.tab_label_selector,e(i)).length?e(n.tab_label_selector,e(i)).get(0).innerHTML:n.tab_label&&e.isFunction(n.tab_label)?n.tab_label(t,i):"Tab "+(t+1));var a='<a href="'+(e(i).attr("rel")||"#"+i.id)+'" rel="'+i.id+'">'+u+"</a>";return'<li class="'+o+'" id="'+s+'">'+a+"</li>"},load:function(t){var r=o.getSuccess(t.id);if((url=e(t).attr("rel"))&&(e.trim(e(t).html())==""||n.force_refresh)){e(t).empty();e(t).load(url,function(){e(t).show().addClass(n.active_class);if(r&&e.isFunction(r)){r.call(t)}i=false;o.hideLoadingIcon(n)})}else{e(t).slideDown("fast").addClass(n.active_class);if(r&&e.isFunction(r)){r.call(t)}i=false;o.hideLoadingIcon(n)}},getSuccess:function(t){if(!n.success){return null}if(e.isFunction(n.success)){return n.success}return n.success[t]},showLoadingIcon:function(t){if(!t.loading_icon){return}e(t.loading_icon).show()},hideLoadingIcon:function(t){if(!t.loading_icon){return}e(t.loading_icon).hide()}};if(s[t]){return s[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return s.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist in jQuery.autotabs")}};e.fn.autotabs.defaults={tab_pane_selector:"div, section, .tab-pane",tab_label_selector:"h3, :first-child",tabs_class:"autotabs",tab_class:"autotab",tabs_selector:"",active_class:"current",active_tab:null,cookie_name:"active_tab",cookie_path:"/",force_refresh:false,tab_orphans:false,loading_icon:"#loading",tab_id:function(e){return"__"+e},tab_label:function(e,t){return"Tab "+(e+1)},tab_pane_id:function(e,t){return"___"+(e+1)},vertical:false}})(jQuery)